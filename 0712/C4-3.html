<h2>Create a New Post</h2>
<form id="articleForm">
    Title: <input type="text" name="title" id="title" /><br />
    <p id="titleError" style="color: red"></p>
    Content: <textarea type="text" name="content" id="content"></textarea><br />
    <p id="contentError" style="color: red"></p>
    Author Email: <input type="text" name="email" id="email" /><br />
    <p id="emailError" style="color: red"></p>
    Creation Date: <input type="date" name="datetime" id="datetime" /><br />
    <p id="datetimeError" style="color: red"></p>

    <button type="submit">Submit</button>
</form>
<script>
    const validateForm = function(){
        const formTitle = title.value;
        const formContent = content.value;
        const formEmail = email.value;
        const formDatetime = new Date(datetime.value);

        titleError.innerText = '';
        contentError.innerText = '';
        emailError.innerText = '';
        datetimeError.innerText = '';

        if(formTitle !== formTitle.toUpperCase()){
            titleError.innerText = 'Title must be all uppercase';
            return false;
        }

        if(formContent.length > 50){
            contentError.innerText = 'Content nust be less than 50 characters';
            return false;
        }

        const atPosition = formEmail.indexOf('@');
        if(atPosition <= 0 || atPosition === formEmail.length-1){
            emailError.innerText = 'Please input a valid email';
            return false;
        }

        const now = new Date();
        if(formDatetime > now){
            datetimeError.innerText = 'Creation Date cannot be later than today';
            return false;
        }
        return true;
    }

    articleForm.addEventListener("submit", function (e) {
        e.preventDefault();
        
        if(validateForm()){
            window.alert('表單送出');
        }
    });
</script>





